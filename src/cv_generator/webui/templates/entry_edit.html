{% extends "base.html" %}

{% block title %}Edit Entry JSON{% endblock %}

{% block content %}
<nav class="breadcrumb">
    <a href="{{ url_for('index') }}">Home</a> &raquo;
    <a href="{{ url_for('person_dashboard', person=person.slug) }}">{{ person.display_name or person.slug }}</a> &raquo;
    <a href="{{ url_for('entry_detail', entry_id=entry.id) }}">Entry</a> &raquo;
    Edit Raw JSON
</nav>

<h2>üõ†Ô∏è Edit Raw JSON</h2>
<p class="entry-meta" style="margin-bottom: 1rem;">
    Section: <code>{{ entry.section }}</code> ‚Ä¢ Lang: <span class="tag tag-count">{{ entry.lang_code|upper }}</span>
</p>

<div class="card">
    <form method="post">
        <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
        <div class="form-group">
            <label for="raw_json">JSON</label>
            <textarea id="raw_json" name="raw_json" style="min-height: 420px;">{{ raw_json }}</textarea>
            <p class="entry-meta" style="margin-top: 0.5rem;">
                Tip: This editor expects a JSON <strong>object</strong> (dict). Be careful with commas and quotes.
            </p>
        </div>
        <div class="actions">
            <button type="submit" class="btn btn-primary">üíæ Save</button>
            <a href="{{ url_for('entry_detail', entry_id=entry.id) }}" class="btn btn-secondary">Cancel</a>
        </div>
    </form>
</div>
{% endblock %}
